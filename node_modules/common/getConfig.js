void function () {
    var path = require('path');
    var fs = require('fs');
    var domainName = path.basename(baseDirname);
    var currDirName = __dirname;

    var configPath = path.resolve(currDirName, '../../pweb_nodeAppConfigList');
    var publicConfigPath = path.join(configPath, 'public_config');
    var selfcConfigPath = path.join(configPath, domainName + '_config');

    var config_outer = fs.existsSync(selfcConfigPath + '.js') ? require(selfcConfigPath) : {};
    var config_public = fs.existsSync(publicConfigPath + '.js') ? require(publicConfigPath) : {};

    if (config_outer.userSelfConfig) {//不使用公共配置
        extend(config_public, config_outer, true);//取并集,优先使用自身配置
        module.exports = config_public;
    } else {
        extend(config_outer, config_public, true);//取并集,优先使用公共配置
        module.exports = config_outer;
    }

    function extend(o, n, override) {
        for (var p in n) {
            if (n.hasOwnProperty(p) && (!o.hasOwnProperty(p) || override)) {
                o[p] = n[p];
            }
        }
    };
}();